# 条件测试

## 条件测试语句

```shell
# 格式: [ 条件表达式 ]  注意: 条件表达式两边的空格
```

1. 文件测试语句
2. 逻辑测试语句
3. 整数比较语句
4. 字符串比较语句

### 文件测试的参数

|运算符|作用|
|:---:|:---:|
|-d|是否为目录|
|-e|测试文件或目录是否存在|
|-f|判断是否位一般文件|
|-r|当前用户是否有权限读|
|-w|当前用户是否有权限写|
|-x|当前用户是否有权限执行|

### 逻辑测试语句

```shell
与: &&    上一条命令执行成功才会执行后面的命令
或: ||    上一条命令执行失败会执行后面的命令
非:　！    对判决结果取反
```

### 整数比较运算符

|运算符|作用|
|:---:|:---|
|-eq|等于|
|-ne|不等于|
|-lt|小于|
|-gt|大于|
|-le|小于等于|
|-ge|大于等于|

### 字符串比较运算符

|运算符|作用|
|:---:|:---:|
|=|比较字符串内容是否相同|
|!=|比较字符串内容是否不同|
|-z|判断字符串内容是否为空|

## 练习

```shell
➜  ~ [ -d /etc ] && echo ture
ture

➜  ~ [ -e /etc/my ] && echo ture || echo false
false

➜  ~ [ -x /usr/bin/python ] && echo true
true

➜  ~ [ $USER = root ] && echo root || echo $USER
sam

➜  ~ [ 11 -eq 10 ] && echo true || echo false
false

➜  ~ MEM=`free -m | grep 内存 | awk '{print $4}'`
➜  ~ [ $MEM -lt 1000 ] && echo "内存不够了"
内存不够了

# 对未定义的变量进行判断
➜  ~ [ -z $String ] && echo true
true

# $? 查看上一条命令的执行结果 0为执行成功, 执行失败时为一个不为0的随机数
➜  ~ $?
0
```
